<!-- login-page.component.html -->
<div class="login-page">
  <!-- Columna izquierda (branding) -->
  <div class="login-page__branding">
    <!-- Usamos este DIV para no centrar la columna entera y solo centrar el contenido,
         ya que podría traer problemas si añades decoraciones, overlays o efectos laterales.
         Además el title y el subtitle son elementos de un bloque visual coherente,
         que puede tener propiedades iguales -->
    <div class="branding__content">
      <h1 class="branding__title">Design with us</h1>
      <p class="branding__subtitle">
        Access to thousands of design resources and templates
      </p>
      <img src="assets/brand.svg" alt="brand" class="branding__image" />
    </div>
  </div>

  <!-- Columna derecha (formulario) -->
  <div class="login-page__form">
    <div class="form-container">
      <h2 class="form-title">Sign up now</h2>

      <form class="form" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-row">
          <div class="form-group form-group--half">
            <label for="firstName">First name</label>
            <input
              id="firstName"
              formControlName="firstName"
              type="text"
              class="form-control"
              [ngClass]="{
                'is-invalid': isInvalid('firstName'),
                'is-valid': isValid('firstName')
              }"
            />
            <div class="form-error" *ngIf="isInvalid('firstName')">
              First name is required.
            </div>
          </div>

          <div class="form-group form-group--half">
            <label for="lastName">Last name</label>
            <input
              id="lastName"
              formControlName="lastName"
              type="text"
              class="form-control"
              [ngClass]="{
                'is-invalid': isInvalid('lastName'),
                'is-valid': isValid('lastName')
              }"
            />
            <div class="form-error" *ngIf="isInvalid('lastName')">
              Last name is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email address</label>
          <input
            id="email"
            formControlName="email"
            type="email"
            class="form-control"
            [ngClass]="{
              'is-invalid': isInvalid('email'),
              'is-valid': isValid('email')
            }"
          />
          <div class="form-error" *ngIf="isInvalid('email')">
            Please enter a valid email.
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Phone number</label>
          <input
            id="phone"
            formControlName="phone"
            type="tel"
            class="form-control"
            [ngClass]="{
              'is-invalid': isInvalid('phone'),
              'is-valid': isValid('phone')
            }"
          />
          <div class="form-error" *ngIf="isInvalid('phone')">
            Enter a valid phone number (min 9 digits).
          </div>
        </div>

        <div class="form-group form-group--password">
          <div class="form-label-row">
            <label for="password">Password</label>
            <button
              type="button"
              class="password-toggle"
              (click)="togglePassword()"
              [attr.aria-label]="
                showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'
              "
            >
              <img
                [src]="
                  showPassword ? 'assets/show-icon.svg' : 'assets/hide-icon.svg'
                "
                alt=""
              />
            </button>
          </div>

          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            formControlName="password"
            class="form-control form-control--password"
            [ngClass]="{
              'is-invalid': isInvalid('password'),
              'is-valid': isValid('password')
            }"
          />

          <small class="form-hint">
            Use 8 or more characters with a mix of letters, numbers & symbols
          </small>
          <div class="form-error" *ngIf="isInvalid('password')">
            Password must be at least 8 characters and include letters, numbers,
            and symbols.
          </div>
        </div>

        <div class="form-group form-check">
          <input type="checkbox" id="terms" formControlName="terms" />
          <label for="terms">
            By creating an account, I agree to our
            <a href="#">Terms of use</a> and
            <a href="#">Privacy Policy</a>
          </label>
          <div class="form-error" *ngIf="isInvalid('terms')">
            You must accept the terms.
          </div>
        </div>

        <div class="form-group form-check">
          <input type="checkbox" id="marketing" formControlName="marketing" />
          <label for="marketing">
            I am also consenting to receive SMS messages and emails including
            product new feature updates, events, and marketing promotions.
          </label>
        </div>

        <div class="form__button-zone">
          <button type="submit" class="form-button" [disabled]="form.invalid">
            Sign up
          </button>

          <p class="form-footer">
            Already have an account? <a href="#">Log in</a>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
